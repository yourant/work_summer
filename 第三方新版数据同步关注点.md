数据同步注意事项

新版数据同步初始化同步执行时，会将系统中所有待同步数据，也就是说的要通过场景配置筛选出的数据 做一次检测

并且将待同步数据添加到同步列表，然鹅这些数据中可能存在以下情况
同步分为三类 新增同步，编辑同步，删除同步，初始化同步时只有新增同步

1. 平台上存在部门组织脏数据，将待同步的部门去组织管理中搜索，如果搜不到，代表是脏数据，可以手动修改同步状态或者添加remark字段作为标记

2. 有的手机号已经存在于对应第三方平台，手机号是人员身份标识，所以通过手机号可以绑定到个人，在同步时检测到这种情况
会自动实现绑定 



3. 由于支持同级部门重名自动绑定（解决一些后台管理员在第三方应用后台自己建组织），有小概率会出现以下情况

    测试组织     已经同步到钉钉
        测试
    变为
    测试组织  
        测试A
        测试
    将原来的【测试】改名为【测试A】，然后新建 【测试】  在执行同步时，如果【测试】先执行新增同步，会导致两个组织绑定到同一个第三方的组织，所以需要保证编辑同步在新增同步之前执行
    

    待解决的问题

    人员加入钉钉后自动退出，然后又加入，要实现绑定

    意思是我方存储的user_id 会失效，
    增加容错

    user_id 报错不存在时，通过手机号获取到user_id 然后重新绑定

    然后重新更新信息


1. 需要支持hcm上的数据同步到不同的 钉钉， 或者企业微信

- 缺陷， 同一条数据不能同步到不同的钉钉系统
- 目前有默认检测， 通过对于的数据info处理 是否保存有ding_talk第三方数据，以此来校验是否需要同步或者新增该人员

- 需要修改check 方式
- 需要修改third_id获取方式
- 需要修改第三方id保存方式


# 由于初始设计导致目前系统等于说是存在大量脏数据
- 对于中环洁 数据的处理， 要么刷数据或者 无法处理！， 刷数据目前也难以判断某一个数据是绑定了哪一个第三方的 应用， 如何刷



# 只能说很辣鸡
- 只能沿用之前，只能支持不同部门的人和组织同步到不同的钉钉， 本地还是只会保存一份id，无法确定保存的id 是属于哪一个钉钉系统


需要修改的点


token 管理功能


能不能仿照，其他hcm 应用， 需要先建立一个应用，然后申请应用的token

token应用可以选择需要的功能，
